<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prompt Vault Access</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;max-width:760px;margin:40px auto;padding:0 18px;line-height:1.5}
    .card{border:1px solid rgba(0,0,0,.12);border-radius:14px;padding:18px 18px 14px}
    input{width:100%;padding:12px 12px;border-radius:10px;border:1px solid rgba(0,0,0,.2);font-size:16px}
    button{margin-top:10px;padding:10px 14px;border:0;border-radius:10px;font-size:16px;cursor:pointer}
    .hint{color:rgba(0,0,0,.65);font-size:14px;margin-top:10px}
    .err{color:#b00020;margin-top:10px;display:none}
  </style>
</head>
<body>
  <h1>Prompt Vault Access</h1>
  <p>Enter the access code from the book to open the copy/paste Prompt Vault.</p>

  <div class="card">
    <label for="code"><strong>Access code</strong></label><br/>
    <input id="code" autocomplete="off" placeholder="Type the code exactly as printed" />
    <button id="btn">Open Vault</button>
    <div id="err" class="err">Sorry — that code doesn’t match. Please check the exact spelling.</div>
    <p class="hint">Please keep this code for personal use only — it helps protect the work behind the vault.</p>
  </div>

<script>
  const ACCESS_CODE = "BLOOM-VAULT-2026";
  const VAULT_PAGE  = "vault-8f3k2p9.html"; // <-- put your real vault filename here

  function tryOpen(){
    const input = (document.getElementById("code")?.value || "").trim();
    if (input === ACCESS_CODE){
      localStorage.setItem("pv_ok","1");
      window.location.href = VAULT_PAGE;
      return;
    }
    const err = document.getElementById("err");
    if (err) err.style.display = "block";
  }

  window.addEventListener("DOMContentLoaded", () => {
    // auto-bypass if already unlocked
    if (localStorage.getItem("pv_ok") === "1"){
      window.location.href = VAULT_PAGE;
      return;
    }

    const btn = document.getElementById("btn");
    const code = document.getElementById("code");

    if (btn) btn.addEventListener("click", tryOpen);
    if (code) code.addEventListener("keydown", (e)=>{ if(e.key==="Enter") tryOpen(); });
  });
</script>

</body>
</html>
